<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kaito å½±å“åŠ›æ’è¡Œæ¦œ</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5569779843631411"
     crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .app-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
            position: relative;
        }

        /* è¯­è¨€åˆ‡æ¢æŒ‰é’®æ ·å¼ */
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        /* æ•°æ®æºæŒ‡ç¤ºå™¨æ ·å¼ */
        .data-source-indicator {
            position: absolute;
            top: 20px;
            left: 20px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            font-size: 0.8rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .lang-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }

        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .app-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
        }

        .logo {
            font-size: 3.5rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .app-description {
            font-size: 1.1rem;
            opacity: 0.9;
            font-weight: 300;
            margin-bottom: 30px;
        }

        /* å¯¼èˆªèœå•æ ·å¼ */
        .main-nav {
            margin-top: 20px;
        }

        .nav-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            max-width: 800px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
            backdrop-filter: blur(10px);
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 20px rgba(255, 255, 255, 0.1);
        }

        .nav-icon {
            font-size: 1.5rem;
        }

        .nav-text {
            font-size: 0.9rem;
            font-weight: 600;
            text-align: center;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* å†…å®¹åŒºåŸŸæ ·å¼ */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .section-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }

        .section-description {
            font-size: 1.1rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* ä½œè€…ä¿¡æ¯æ ·å¼ */
        .author-info {
            text-align: center;
            margin: 16px 0 24px;
            font-size: 0.9rem;
            color: #888;
        }

        .author-info a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .author-info a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        /* å¼€å‘ä¸­çŠ¶æ€æ ·å¼ */
        .coming-soon {
            text-align: center;
            padding: 80px 20px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin: 40px 0;
        }

        .coming-soon-icon {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .coming-soon h3 {
            font-size: 1.5rem;
            color: #333;
            margin-bottom: 12px;
        }

        .coming-soon p {
            font-size: 1rem;
            color: #666;
            line-height: 1.6;
        }

        /* ä¸ªäººæœç´¢æ ·å¼ */
        .search-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .search-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .search-input-group {
            margin-bottom: 20px;
        }

        .search-input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-with-button {
            display: flex;
            gap: 10px;
            align-items: stretch;
        }

        .search-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .search-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        .search-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .data-controls {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #e1e8ed;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
        }

        .refresh-button {
            padding: 8px 16px;
            background: linear-gradient(135deg, #10ac84 0%, #06a085 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .refresh-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(16, 172, 132, 0.3);
        }

        .refresh-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .data-status {
            flex: 1;
            text-align: right;
        }

        .data-info {
            font-size: 0.85rem;
            color: #657786;
        }

        .search-loading {
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .search-result {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .search-error {
            text-align: center;
            padding: 40px;
            background: #ffebee;
            border-radius: 15px;
            color: #c62828;
            border: 2px solid #ffcdd2;
        }

        .user-profile {
            padding: 30px;
            border-bottom: 1px solid #e1e8ed;
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #667eea;
        }

        .profile-info h3 {
            margin: 0 0 5px 0;
            color: #333;
            font-size: 1.5rem;
        }

        .profile-info .username {
            color: #657786;
            font-size: 1.1rem;
            margin: 0 0 10px 0;
        }

        .rank-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .rank-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .rank-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .rank-label {
            color: #657786;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }

        .rank-change {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-size: 0.9rem;
        }

        .rank-change.up {
            color: #10ac84;
        }

        .rank-change.down {
            color: #ee5a52;
        }

        .rank-change.same {
            color: #657786;
        }

        .stats-toggle {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .toggle-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-btn:first-child {
            border-radius: 8px 0 0 8px;
        }

        .toggle-btn:last-child {
            border-radius: 0 8px 8px 0;
        }

        .toggle-btn.active {
            background: #667eea;
            color: white;
        }

        .detailed-stats {
            padding: 20px;
            display: none;
        }

        .detailed-stats.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .stat-name {
            color: #657786;
            font-size: 0.85rem;
        }

        /* é¡¹ç›®æ’åæ ·å¼ */
        .project-rankings {
            padding: 20px;
            border-top: 1px solid #e1e8ed;
        }

        .project-rankings h4 {
            margin: 0 0 20px 0;
            color: #333;
            text-align: center;
            font-size: 1.2rem;
        }

        .category-sections {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .category-section {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            border: 1px solid #e1e8ed;
        }

        .category-title {
            margin: 0 0 15px 0;
            color: #667eea;
            text-align: center;
            font-size: 1rem;
            font-weight: bold;
            padding: 8px;
            background: white;
            border-radius: 8px;
            border: 2px solid #667eea;
        }

        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 12px;
        }

        .project-card {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e1e8ed;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .project-name {
            margin: 0 0 10px 0;
            color: #333;
            font-size: 0.9rem;
            font-weight: bold;
            text-align: center;
            padding: 4px 8px;
            background: #667eea;
            color: white;
            border-radius: 4px;
        }

        .rank-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            margin: 4px 0;
            padding: 2px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .rank-item:last-child {
            border-bottom: none;
        }

        .duration {
            color: #657786;
            font-weight: 500;
        }

        .rank-value {
            color: #667eea;
            font-weight: bold;
        }

        .score-value {
            color: #10ac84;
            font-size: 0.75rem;
        }

        .best-project {
            color: #667eea !important;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .project-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }
            
            .category-sections {
                gap: 15px;
            }
            
            .project-rankings h4 {
                font-size: 1rem;
            }
            
            .category-title {
                font-size: 0.9rem;
            }
        }

        /* ç©ºæŠ•ä¼°ç®—å™¨æ ·å¼ */
        .airdrop-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .calculator-section {
            margin-bottom: 30px;
        }

        .calculator-card {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #f0f0f0;
            transition: all 0.3s ease;
        }

        .calculator-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .calculator-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.4rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #f0f0f0;
        }

        .calculator-icon {
            font-size: 1.6rem;
        }

        .calculator-content {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .input-group label {
            font-weight: 600;
            color: #555;
            font-size: 1rem;
        }

        .input-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .calculator-input {
            flex: 1;
            padding: 16px 20px;
            border: 2px solid #e1e8ed;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .calculator-input:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-suffix {
            position: absolute;
            right: 20px;
            color: #666;
            font-weight: 600;
            pointer-events: none;
        }

        .result-display {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e1e8ed;
        }

        .result-label {
            font-weight: 600;
            color: #555;
        }

        .result-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: #667eea;
        }

        .reward-tier {
            padding: 20px;
            border-radius: 12px;
            border: 2px solid #e1e8ed;
            background: #f8f9fa;
        }

        .reward-tier.boosted {
            border-color: #10ac84;
            background: rgba(16, 172, 132, 0.05);
        }

        .reward-tier h4 {
            margin: 0 0 12px 0;
            font-size: 1.1rem;
            color: #333;
        }

        .reward-tier.boosted h4 {
            color: #10ac84;
        }

        .reward-tier .result-item {
            background: white;
            margin: 0;
        }

        .result-usd {
            font-size: 0.9rem;
            color: #666;
            margin-left: 12px;
        }

        .total-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
        }

        .total-card .calculator-title {
            color: white;
            border-bottom-color: rgba(255, 255, 255, 0.3);
        }

        .total-display {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .total-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .total-label {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .total-value {
            font-size: 1.4rem;
            font-weight: 700;
        }

        .total-scenarios {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .scenario {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            text-align: center;
        }

        .scenario-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .scenario-value {
            font-size: 1.2rem;
            font-weight: 700;
        }

        .calculator-info {
            background: white;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #f0f0f0;
            margin-top: 20px;
        }

        .calculator-info h4 {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
            padding: 16px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e1e8ed;
        }

        .info-item strong {
            color: #667eea;
            font-size: 0.9rem;
        }

        .info-item span {
            color: #666;
            font-size: 0.95rem;
        }

        .calculator-footer {
            text-align: center;
            padding: 30px 20px;
            margin-top: 30px;
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 12px;
        }

        .calculator-footer p {
            margin: 8px 0;
            font-size: 0.9rem;
            color: #856404;
            line-height: 1.5;
        }

        .calculator-footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .calculator-footer a:hover {
            text-decoration: underline;
        }

        .disclaimer {
            background: rgba(255, 152, 0, 0.1);
            border: 1px solid rgba(255, 152, 0, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 20px auto;
            max-width: 800px;
            text-align: center;
        }

        .disclaimer p {
            color: #e65100;
            font-size: 0.9rem;
            margin: 0;
            font-weight: 500;
        }

        /* ç©ºæŠ•ä¼°ç®—å™¨ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            .airdrop-container {
                padding: 0 15px;
            }

            .calculator-card {
                padding: 20px;
            }

            .calculator-title {
                font-size: 1.2rem;
                flex-direction: column;
                text-align: center;
                gap: 8px;
            }

            .calculator-input {
                padding: 14px 16px;
                font-size: 1rem;
            }

            .input-suffix {
                right: 16px;
                font-size: 0.9rem;
            }

            .result-item {
                flex-direction: column;
                text-align: center;
                gap: 8px;
            }

            .total-scenarios {
                grid-template-columns: 1fr;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .scenario {
                padding: 12px;
            }

            .reward-tier {
                padding: 16px;
            }
        }

        .controls-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .control-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }

        .control-group label {
            color: white;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .control-select {
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .control-select:hover {
            background: white;
            transform: translateY(-1px);
        }

        .leaderboard-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .leaderboard-header h3 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 8px;
        }

        .users-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
        }

        .user-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            position: relative;
            border: 1px solid #f0f0f0;
        }

        .user-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12);
        }

        .rank-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            box-shadow: 0 4px 12px rgba(238, 90, 36, 0.3);
        }

        .user-card:nth-child(1) .rank-badge {
            background: linear-gradient(135deg, #ffd700, #ffb347);
        }

        .user-card:nth-child(2) .rank-badge {
            background: linear-gradient(135deg, #c0c0c0, #a8a8a8);
        }

        .user-card:nth-child(3) .rank-badge {
            background: linear-gradient(135deg, #cd7f32, #b8860b);
        }

        .user-avatar {
            width: 80px;
            height: 80px;
            margin: 0 auto 16px;
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #f0f0f0;
        }

        .user-info {
            text-align: center;
            margin-bottom: 20px;
        }

        .user-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin: 0 0 4px 0;
        }

        .user-username {
            color: #666;
            font-size: 0.9rem;
            margin: 0 0 8px 0;
        }

        .user-bio {
            color: #888;
            font-size: 0.85rem;
            line-height: 1.4;
            margin: 0;
        }

        .user-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            margin-bottom: 20px;
            gap: 12px;
        }

        .stat-item {
            text-align: center;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stat-label {
            display: block;
            font-size: 0.75rem;
            color: #666;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .stat-value {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            color: #333;
        }

        .mindshare-score {
            color: #667eea;
        }

        .twitter-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #1da1f2;
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .twitter-link:hover {
            background: #0d8bd9;
            transform: translateY(-1px);
        }

        .loading {
            text-align: center;
            padding: 60px 20px;
            font-size: 1.2rem;
            color: #666;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .app-footer {
            background: #2d3748;
            color: #a0aec0;
            text-align: center;
            padding: 24px 20px;
            font-size: 0.9rem;
        }

        .app-footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
        }

        .cors-notice {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 12px;
            padding: 16px;
            margin: 20px auto;
            max-width: 800px;
            text-align: center;
        }

        .cors-notice h4 {
            color: #856404;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .cors-notice p {
            color: #856404;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* æ‰“èµåŒºåŸŸæ ·å¼ */
        .donation-section {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px auto;
            max-width: 800px;
            text-align: center;
        }

        .donation-section h4 {
            color: #166534;
            margin-bottom: 16px;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .donation-addresses {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .address-item {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 12px;
            padding: 16px;
            word-break: break-all;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .address-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .address-content {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .address-label {
            font-weight: 600;
            color: #166534;
            font-size: 1rem;
        }

        .qr-toggle-btn {
            background: #22c55e;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .qr-toggle-btn:hover {
            background: #16a34a;
            transform: translateY(-1px);
        }

        .address-value {
            color: #1f2937;
            font-size: 0.9rem;
            background: rgba(34, 197, 94, 0.1);
            padding: 12px;
            border-radius: 8px;
            display: block;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .qr-code-container {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            border: 2px solid #22c55e;
            margin-top: 8px;
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .qr-code-img {
            max-width: 250px;
            max-height: 250px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            border: 3px solid #fff;
        }

        .qr-error {
            color: #dc2626;
            padding: 20px;
        }

        .qr-error p {
            margin: 0 0 8px 0;
            font-weight: 600;
        }

        .qr-error small {
            color: #6b7280;
            font-size: 0.8rem;
        }

        @media (max-width: 768px) {
            .app-title {
                font-size: 2rem;
                flex-direction: column;
                gap: 8px;
            }

            .app-description {
                font-size: 1rem;
            }

            .nav-container {
                gap: 6px;
            }

            .nav-item {
                min-width: 100px;
                padding: 12px 16px;
            }

            .nav-text {
                font-size: 0.8rem;
            }

            .section-title {
                font-size: 1.8rem;
            }

            .section-description {
                font-size: 1rem;
            }

            .users-grid {
                grid-template-columns: 1fr;
            }

            .controls-section {
                flex-direction: column;
            }

            .coming-soon {
                padding: 60px 20px;
            }

            .coming-soon-icon {
                font-size: 3rem;
            }

            /* æœç´¢åŠŸèƒ½ç§»åŠ¨ç«¯é€‚é… */
            .input-with-button {
                flex-direction: column;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            
            .rank-overview {
                grid-template-columns: 1fr;
            }

            .stats-toggle {
                flex-direction: column;
                gap: 5px;
            }

            .toggle-btn:first-child,
            .toggle-btn:last-child {
                border-radius: 8px;
            }

            .donation-section {
                margin: 15px;
                padding: 16px;
            }

            .donation-section h4 {
                font-size: 1rem;
            }

            .address-item {
                padding: 12px;
            }

            .address-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .qr-toggle-btn {
                font-size: 0.8rem;
                padding: 6px 12px;
                align-self: flex-start;
            }

            .address-value {
                font-size: 0.8rem;
                padding: 10px;
            }

            .qr-code-container {
                padding: 15px;
            }

            .qr-code-img {
                max-width: 180px;
                max-height: 180px;
            }

            .language-switcher {
                top: 15px;
                right: 15px;
            }

            .lang-btn {
                padding: 8px 12px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header class="app-header">
        <!-- æ•°æ®æºæŒ‡ç¤ºå™¨ -->
        <div class="data-source-indicator" id="data-source-indicator">
            ğŸ“Š æ•°æ®æºï¼šæ­£åœ¨æ£€æµ‹...
        </div>
        
        <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’® -->
        <div class="language-switcher">
            <button id="lang-btn" class="lang-btn" onclick="toggleLanguage()">
                <span id="lang-icon">ğŸ‡ºğŸ‡¸</span>
                <span id="lang-text">EN</span>
            </button>
        </div>

        <div class="header-content">
            <h1 class="app-title">
                <span class="logo">ğŸš€</span>
                <span data-i18n="app-title">Kaito åŠ å¯†ç”Ÿæ€æ•°æ®å¹³å°</span>
            </h1>
            <p class="app-description" data-i18n="app-description">
                ä¸€ç«™å¼åŠ å¯†è´§å¸é¡¹ç›®æ•°æ®åˆ†æå¹³å° - KOLæ’è¡Œæ¦œ | ICTåå• | å¥–åŠ±æ—¶é—´çº¿ | æŠ•èµ„ç ”æŠ¥
            </p>
            
            <div class="cors-notice">
                <h4 data-i18n="cors-notice-title">ğŸŒŸ å®æ—¶æ•°æ®ç‰ˆæœ¬</h4>
                <p data-i18n="cors-notice-desc">æœ¬ç‰ˆæœ¬ä¼˜å…ˆä» kol.json æ–‡ä»¶è¯»å–çœŸå®æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸å­˜åœ¨åˆ™å°è¯•è°ƒç”¨ Kaito APIã€‚è¿™ç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çœŸå®æ•°æ®ã€‚</p>
            </div>
        </div>

        <!-- å¯¼èˆªèœå• -->
        <nav class="main-nav">
            <div class="nav-container">
                <button class="nav-item active" data-section="kol-leaderboard">
                    <span class="nav-icon">ğŸ†</span>
                    <span class="nav-text" data-i18n="nav-kol">KOL æ’è¡Œæ¦œ</span>
                </button>
                <button class="nav-item" data-section="personal-search">
                    <span class="nav-icon">ğŸ”</span>
                    <span class="nav-text" data-i18n="nav-search">ä¸ªäººæŸ¥è¯¢</span>
                </button>
                <button class="nav-item" data-section="airdrop-calculator">
                    <span class="nav-icon">ğŸ’°</span>
                    <span class="nav-text" data-i18n="nav-airdrop">ç©ºæŠ•ä¼°ç®—</span>
                </button>
                <button class="nav-item" data-section="ict-list">
                    <span class="nav-icon">ğŸ“‹</span>
                    <span class="nav-text" data-i18n="nav-ict">ICT åå•</span>
                </button>
                <button class="nav-item" data-section="rewards-timeline">
                    <span class="nav-icon">â°</span>
                    <span class="nav-text" data-i18n="nav-rewards">å¥–åŠ±æ—¶é—´çº¿</span>
                </button>
                <button class="nav-item" data-section="research-reports">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span class="nav-text" data-i18n="nav-research">æŠ•èµ„ç ”æŠ¥</span>
                </button>
            </div>
        </nav>

        <!-- æ‰“èµä¿¡æ¯ -->
        <div class="donation-section">
            <h4 data-i18n="donation-title">ğŸ’ æ¬¢è¿å°é¢æ‰“èµ</h4>
            <div class="donation-addresses">
                <div class="address-item">
                    <div class="address-header">
                        <span class="address-label" data-i18n="sol-address">SOL åœ°å€ï¼š</span>
                        <button class="qr-toggle-btn" onclick="toggleQRCode('sol-qr')" data-qr-text-show="ğŸ“± æ˜¾ç¤ºæ”¶æ¬¾ç " data-qr-text-hide="âŒ éšè—æ”¶æ¬¾ç " data-i18n="show-qr">ğŸ“± æ˜¾ç¤ºæ”¶æ¬¾ç </button>
                    </div>
                    <div class="address-content">
                        <span class="address-value">97vJtSUYM2BpLTo8sLXzRAU9CZGBERFBAohuFLoXGwa2</span>
                        <div id="sol-qr" class="qr-code-container" style="display: none;">
                            <img src="images/sol.png" alt="SOL æ”¶æ¬¾ç " class="qr-code-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="qr-error" style="display: none;">
                                <p>æ”¶æ¬¾ç å›¾ç‰‡æœªæ‰¾åˆ°</p>
                                <small>è¯·å°† SOL æ”¶æ¬¾ç ä¿å­˜ä¸º images/sol.png</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="address-item">
                    <div class="address-header">
                        <span class="address-label" data-i18n="evm-address">EVM åœ°å€ï¼š</span>
                        <button class="qr-toggle-btn" onclick="toggleQRCode('evm-qr')" data-qr-text-show="ğŸ“± æ˜¾ç¤ºæ”¶æ¬¾ç " data-qr-text-hide="âŒ éšè—æ”¶æ¬¾ç " data-i18n="show-qr">ğŸ“± æ˜¾ç¤ºæ”¶æ¬¾ç </button>
                    </div>
                    <div class="address-content">
                        <span class="address-value">0x90ea00E3c00606ee52ADD1c2468F83C927065584</span>
                        <div id="evm-qr" class="qr-code-container" style="display: none;">
                            <img src="images/evm.png" alt="EVM æ”¶æ¬¾ç " class="qr-code-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div class="qr-error" style="display: none;">
                                <p>æ”¶æ¬¾ç å›¾ç‰‡æœªæ‰¾åˆ°</p>
                                <small>è¯·å°† EVM æ”¶æ¬¾ç ä¿å­˜ä¸º images/evm.png</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- KOL æ’è¡Œæ¦œæ¨¡å— -->
        <section id="kol-leaderboard" class="content-section active">
            <div class="section-header">
                <h2 class="section-title" data-i18n="kol-title">ğŸ† KOL å½±å“åŠ›æ’è¡Œæ¦œ</h2>
                <div class="author-info">
                    <div>made by <a href="https://x.com/wang_xiaolou" target="_blank" rel="noopener noreferrer">@wang_xiaolou</a></div>
                    <div>powered by <a href="https://x.com/Flywheel_DAO" target="_blank" rel="noopener noreferrer">@Flywheel_DAO</a></div>
                </div>
                <p class="section-description" data-i18n="kol-description">å‘ç°åŠ å¯†è´§å¸é¢†åŸŸæœ€å…·å½±å“åŠ›çš„ KOL å’Œæ€æƒ³é¢†è¢–</p>
            </div>

            <div class="controls-section">
                <div class="control-group">
                    <label for="category-select" data-i18n="project-category">é¡¹ç›®åˆ†ç±»:</label>
                    <select id="category-select" class="control-select">
                        <option value="post_tge">Post TGE é¡¹ç›®</option>
                        <option value="pre_tge">Pre TGE é¡¹ç›®</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="topic-select" data-i18n="project-token">é¡¹ç›®/ä»£å¸:</label>
                    <select id="topic-select" class="control-select">
                        <option value="APT">APT</option>
                        <option value="ARB">ARB</option>
                        <option value="BERA">BERA</option>
                        <option value="DYDX">DYDX</option>
                        <option value="FUEL">FUEL</option>
                        <option value="INJ">INJ</option>
                        <option value="NEAR">NEAR</option>
                        <option value="SEI">SEI</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="duration-select" data-i18n="time-range">æ—¶é—´èŒƒå›´:</label>
                    <select id="duration-select" class="control-select">
                        <option value="7d">7 å¤©</option>
                        <option value="30d">30 å¤©</option>
                        <option value="3m">3 ä¸ªæœˆ</option>
                        <option value="6m">6 ä¸ªæœˆ</option>
                        <option value="12m">12 ä¸ªæœˆ</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="top-n-select" data-i18n="display-count">æ˜¾ç¤ºæ•°é‡:</label>
                    <select id="top-n-select" class="control-select">
                        <option value="10">Top 10</option>
                        <option value="25">Top 25</option>
                        <option value="50">Top 50</option>
                        <option value="100">Top 100</option>
                    </select>
                </div>
            </div>

            <div class="leaderboard-header">
                <h3 id="leaderboard-title">APT å½±å“åŠ›æ’è¡Œæ¦œ</h3>
                <p class="subtitle" id="leaderboard-subtitle">Post TGE é¡¹ç›® - æ˜¾ç¤ºè¿‡å» 7 å¤© çš„å‰ 10 åå½±å“è€…</p>
            </div>

            <div id="loading" class="loading">
                <div class="loading-spinner"></div>
                <p data-i18n="loading-text">æ­£åœ¨åŠ è½½æ’è¡Œæ¦œæ•°æ®...</p>
            </div>
            <div id="users-grid" class="users-grid" style="display: none;"></div>
        </section>

        <!-- ä¸ªäººæœç´¢æ¨¡å— -->
        <section id="personal-search" class="content-section">
            <div class="section-header">
                <h2 class="section-title" data-i18n="search-title">ğŸ” ä¸ªäººå½±å“åŠ›æŸ¥è¯¢</h2>
                <p class="section-description" data-i18n="search-description">è¾“å…¥æ¨ç‰¹IDæŸ¥è¯¢æ‚¨çš„å½±å“åŠ›æ’åå’ŒYAPSåˆ†æ•°å˜åŒ–</p>
            </div>

            <div class="search-container">
                <div class="search-form">
                    <div class="search-input-group">
                        <label for="twitter-id-input" data-i18n="twitter-id-label">æ¨ç‰¹ ID:</label>
                        <div class="input-with-button">
                            <input type="text" 
                                   id="twitter-id-input" 
                                   class="search-input" 
                                   data-i18n-placeholder="twitter-id-placeholder"
                                   placeholder="è¯·è¾“å…¥æ¨ç‰¹ç”¨æˆ·åï¼ˆä¸å«@ï¼‰">
                            <button id="search-btn" class="search-button" onclick="searchUser()">
                                <span data-i18n="search-button">ğŸ” æŸ¥è¯¢æ’å</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-controls">
                        <button id="refresh-data-btn" class="refresh-button" onclick="forceRefreshData()">
                            <span>ğŸ”„ æ›´æ–°å…¨é‡æ•°æ®</span>
                        </button>
                        <div id="data-status" class="data-status">
                            <span id="data-info">æ•°æ®çŠ¶æ€ï¼šæ£€æŸ¥ä¸­...</span>
                        </div>
                    </div>
                </div>

                <div id="search-loading" class="search-loading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p data-i18n="search-loading">æ­£åœ¨æŸ¥è¯¢ä¸­...</p>
                </div>

                <div id="search-result" class="search-result" style="display: none;">
                    <!-- æœç´¢ç»“æœå°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>

                <div id="search-error" class="search-error" style="display: none;">
                    <p data-i18n="search-error">æŸ¥è¯¢å‡ºé”™ï¼Œè¯·ç¨åé‡è¯•</p>
                </div>
            </div>
        </section>

        <!-- ç©ºæŠ•ä¼°ç®—æ¨¡å— -->
        <section id="airdrop-calculator" class="content-section">
            <div class="section-header">
                <h2 class="section-title" data-i18n="airdrop-title">ğŸ’° HUMA ç©ºæŠ•ä¼°ç®—å™¨</h2>
                <p class="section-description" data-i18n="airdrop-description">åŸºäº Feathers å’Œ Kaito æ’åä¼°ç®—æ‚¨çš„ HUMA ä»£å¸ç©ºæŠ•æ•°é‡</p>
                <div class="disclaimer">
                    <p data-i18n="airdrop-disclaimer">âš ï¸ è¿™åªæ˜¯åŸºäºç¤¾åŒºå‡è®¾çš„ä¼°ç®—ï¼Œéå®˜æ–¹è®¡ç®—ï¼Œä¸ Huma å›¢é˜Ÿæ— å…³</p>
                </div>
            </div>

            <div class="airdrop-container">
                <!-- Feathers è®¡ç®—å™¨ -->
                <div class="calculator-section">
                    <div class="calculator-card">
                        <h3 class="calculator-title">
                            <span class="calculator-icon">ğŸª¶</span>
                            <span data-i18n="feathers-title">Feathers â†’ $HUMA åˆ†é…</span>
                        </h3>
                        <div class="calculator-content">
                            <div class="input-group">
                                <label for="feathers-input" data-i18n="feathers-label">è¾“å…¥ Feathers æ•°é‡:</label>
                                <div class="input-container">
                                    <input type="number" 
                                           id="feathers-input" 
                                           class="calculator-input" 
                                           placeholder="0" 
                                           oninput="calculateFeathersReward()">
                                    <span class="input-suffix">Feathers</span>
                                </div>
                            </div>
                            <div class="result-display">
                                <div class="result-item">
                                    <span class="result-label" data-i18n="estimated-huma">é¢„ä¼° $HUMA åˆ†é…:</span>
                                    <span class="result-value" id="feathers-huma-result">0 $HUMA</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label" data-i18n="estimated-usd">é¢„ä¼°ä»·å€¼ (USD):</span>
                                    <span class="result-value" id="feathers-usd-result">$0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Kaito æ’åè®¡ç®—å™¨ -->
                <div class="calculator-section">
                    <div class="calculator-card">
                        <h3 class="calculator-title">
                            <span class="calculator-icon">ğŸ¯</span>
                            <span data-i18n="kaito-title">Kaito æ’å â†’ $HUMA å¥–åŠ±</span>
                        </h3>
                        <div class="calculator-content">
                            <div class="input-group">
                                <label for="kaito-rank-input" data-i18n="kaito-rank-label">æ‚¨çš„ Kaito æ’å:</label>
                                <div class="input-container">
                                    <input type="number" 
                                           id="kaito-rank-input" 
                                           class="calculator-input" 
                                           placeholder="50" 
                                           min="1"
                                           oninput="calculateKaitoReward()">
                                    <span class="input-suffix">Rank</span>
                                </div>
                            </div>
                            <div class="input-group">
                                <label for="mindshare-input" data-i18n="mindshare-label">Mindshare ç™¾åˆ†æ¯”:</label>
                                <div class="input-container">
                                    <input type="number" 
                                           id="mindshare-input" 
                                           class="calculator-input" 
                                           placeholder="0.5" 
                                           step="0.01"
                                           min="0"
                                           max="100"
                                           oninput="calculateKaitoReward()">
                                    <span class="input-suffix">%</span>
                                </div>
                            </div>
                            <div class="result-display">
                                <div class="reward-tier">
                                    <h4 data-i18n="standard-airdrop">æ ‡å‡†ç©ºæŠ• (æŒ‰ Mindshare)</h4>
                                    <div class="result-item">
                                        <span class="result-value" id="standard-huma-result">0 $HUMA</span>
                                        <span class="result-usd" id="standard-usd-result">$0.00 USD</span>
                                    </div>
                                </div>
                                <div class="reward-tier boosted">
                                    <h4 data-i18n="boosted-airdrop">åŠ æˆç©ºæŠ• (ä¼˜è´¨å†…å®¹)</h4>
                                    <div class="result-item">
                                        <span class="result-value" id="boosted-huma-result">0 $HUMA</span>
                                        <span class="result-usd" id="boosted-usd-result">$0.00 USD</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ€»è®¡æ˜¾ç¤º -->
                <div class="calculator-section">
                    <div class="calculator-card total-card">
                        <h3 class="calculator-title">
                            <span class="calculator-icon">ğŸ’</span>
                            <span data-i18n="total-rewards">æ€»è®¡å¥–åŠ±</span>
                        </h3>
                        <div class="calculator-content">
                            <div class="total-display">
                                <div class="total-item">
                                    <span class="total-label" data-i18n="total-huma">æ€» $HUMA ä»£å¸:</span>
                                    <span class="total-value" id="total-huma-result">0 $HUMA</span>
                                </div>
                                <div class="total-scenarios">
                                    <div class="scenario">
                                        <span class="scenario-label" data-i18n="with-standard">æ ‡å‡†å¥–åŠ±æ€»ä»·å€¼:</span>
                                        <span class="scenario-value" id="total-standard-usd">$0.00 USD</span>
                                    </div>
                                    <div class="scenario">
                                        <span class="scenario-label" data-i18n="with-boosted">åŠ æˆå¥–åŠ±æ€»ä»·å€¼:</span>
                                        <span class="scenario-value" id="total-boosted-usd">$0.00 USD</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- è®¡ç®—å‚æ•°è¯´æ˜ -->
                <div class="calculator-info">
                    <h4 data-i18n="calculation-info">è®¡ç®—è¯´æ˜</h4>
                    <div class="info-grid">
                        <div class="info-item">
                            <strong data-i18n="feathers-formula">Feathers å…¬å¼:</strong>
                            <span data-i18n="feathers-desc">0.06 Ã— Feathers = ç©ºæŠ•åˆ†é…é‡</span>
                        </div>
                        <div class="info-item">
                            <strong data-i18n="huma-price">$HUMA ä»·æ ¼:</strong>
                            <span>$0.038 / $HUMA</span>
                        </div>
                        <div class="info-item">
                            <strong data-i18n="boost-factor">åŠ æˆå€æ•°:</strong>
                            <span data-i18n="boost-desc">ä¼˜è´¨å†…å®¹å¯è·å¾— 1.1Ã— åŠ æˆ</span>
                        </div>
                        <div class="info-item">
                            <strong data-i18n="max-feathers">æœ€å¤§ Feathers:</strong>
                            <span data-i18n="max-feathers-desc">é¢„è®¡èµ›å­£ç»“æŸæ—¶è¾¾åˆ° 35 äº¿</span>
                        </div>
                    </div>
                </div>

                <!-- å…è´£å£°æ˜ -->
                <div class="calculator-footer">
                    <p data-i18n="calculator-footer-text">
                        åŸºäº <a href="https://x.com/KakashiAirdrops" target="_blank" rel="noopener noreferrer">@KakashiAirdrops</a> 
                        çš„å…¬å¼€ä¼°ç®—è¡¨ã€‚è¿™æ˜¯éå®˜æ–¹ä¼°ç®—ï¼Œä¸ä»»ä½•å›¢é˜Ÿå‡æ— å…³è”ã€‚
                    </p>
                    <p data-i18n="assumptions-warning">âš ï¸ ä»…åŸºäºå‡è®¾çš„ä¼°ç®—</p>
                </div>
            </div>
        </section>

        <!-- ICT åå•æ¨¡å— -->
        <section id="ict-list" class="content-section">
            <div class="section-header">
                <h2 class="section-title" data-i18n="ict-title">ğŸ“‹ ICT åå•</h2>
                <p class="section-description" data-i18n="ict-description">Initial Community Token é¡¹ç›®åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯</p>
            </div>

            <div class="coming-soon">
                <div class="coming-soon-icon">ğŸš§</div>
                <h3 data-i18n="coming-soon">åŠŸèƒ½å¼€å‘ä¸­</h3>
                <p data-i18n="coming-soon-desc">ICT åå•åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>
            </div>
        </section>

        <!-- å¥–åŠ±æ—¶é—´çº¿æ¨¡å— -->
        <section id="rewards-timeline" class="content-section">
            <div class="section-header">
                <h2 class="section-title" data-i18n="rewards-title">â° é¡¹ç›®å¥–åŠ±æ—¶é—´çº¿</h2>
                <p class="section-description" data-i18n="rewards-description">å„ä¸ªé¡¹ç›®çš„å¥–åŠ±æœºåˆ¶å’Œä»£å¸è§£é”æ—¶é—´å®‰æ’</p>
            </div>

            <div class="coming-soon">
                <div class="coming-soon-icon">ğŸš§</div>
                <h3 data-i18n="coming-soon">åŠŸèƒ½å¼€å‘ä¸­</h3>
                <p data-i18n="coming-soon-desc">å¥–åŠ±æ—¶é—´çº¿åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>
            </div>
        </section>

        <!-- æŠ•èµ„ç ”æŠ¥æ¨¡å— -->
                <!-- æŠ•èµ„ç ”æŠ¥æ¨¡å— -->
        <section id="research-reports" class="content-section">
            <div class="section-header">
                <h2 class="section-title" data-i18n="research-title">ğŸ“Š æŠ•èµ„æœºæ„ç ”æŠ¥</h2>
                <p class="section-description" data-i18n="research-description">æ”¶é›†å„å¤§æŠ•èµ„æœºæ„çš„é¡¹ç›®ç ”ç©¶æŠ¥å‘Š</p>
            </div>

            <div class="coming-soon">
                <div class="coming-soon-icon">ğŸš§</div>
                <h3 data-i18n="coming-soon">åŠŸèƒ½å¼€å‘ä¸­</h3>
                <p data-i18n="coming-soon-desc">æŠ•èµ„ç ”æŠ¥åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...</p>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <p>
            <span data-i18n="data-source">æ•°æ®æ¥æº:</span> <a href="https://yaps.kaito.ai/yapper-leaderboards" target="_blank" rel="noopener noreferrer">Kaito AI</a>
        </p>
    </footer>

    <script>
        // å¤šè¯­è¨€æ–‡æœ¬æ•°æ®
        const translations = {
            'zh': {
                // é¡µé¢æ ‡é¢˜å’Œæè¿°
                'page-title': 'Kaito å½±å“åŠ›æ’è¡Œæ¦œ',
                'app-title': 'Kaito åŠ å¯†ç”Ÿæ€æ•°æ®å¹³å°',
                'app-description': 'ä¸€ç«™å¼åŠ å¯†è´§å¸é¡¹ç›®æ•°æ®åˆ†æå¹³å° - KOLæ’è¡Œæ¦œ | ICTåå• | å¥–åŠ±æ—¶é—´çº¿ | æŠ•èµ„ç ”æŠ¥',
                'cors-notice-title': 'ğŸŒŸ å®æ—¶æ•°æ®ç‰ˆæœ¬',
                'cors-notice-desc': 'æœ¬ç‰ˆæœ¬ä¼˜å…ˆä» kol.json æ–‡ä»¶è¯»å–çœŸå®æ•°æ®ï¼Œå¦‚æœæ•°æ®ä¸å­˜åœ¨åˆ™å°è¯•è°ƒç”¨ Kaito APIã€‚è¿™ç¡®ä¿äº†ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çœŸå®æ•°æ®ã€‚',
                
                // å¯¼èˆªèœå•
                'nav-kol': 'KOL æ’è¡Œæ¦œ',
                'nav-ict': 'ICT åå•',
                'nav-rewards': 'å¥–åŠ±æ—¶é—´çº¿',
                'nav-research': 'æŠ•èµ„ç ”æŠ¥',
                'nav-search': 'ä¸ªäººæŸ¥è¯¢',
                'nav-airdrop': 'ç©ºæŠ•ä¼°ç®—',
                
                // æ‰“èµåŒºåŸŸ
                'donation-title': 'ğŸ’ æ¬¢è¿å°é¢æ‰“èµ',
                'sol-address': 'SOL åœ°å€ï¼š',
                'evm-address': 'EVM åœ°å€ï¼š',
                'show-qr': 'ğŸ“± æ˜¾ç¤ºæ”¶æ¬¾ç ',
                'hide-qr': 'âŒ éšè—æ”¶æ¬¾ç ',
                
                // KOLæ’è¡Œæ¦œ
                'kol-title': 'ğŸ† KOL å½±å“åŠ›æ’è¡Œæ¦œ',
                'kol-description': 'å‘ç°åŠ å¯†è´§å¸é¢†åŸŸæœ€å…·å½±å“åŠ›çš„ KOL å’Œæ€æƒ³é¢†è¢–',
                'project-category': 'é¡¹ç›®åˆ†ç±»:',
                'project-token': 'é¡¹ç›®/ä»£å¸:',
                'time-range': 'æ—¶é—´èŒƒå›´:',
                'display-count': 'æ˜¾ç¤ºæ•°é‡:',
                'post-tge': 'Post TGE é¡¹ç›®',
                'pre-tge': 'Pre TGE é¡¹ç›®',
                'days-7': '7 å¤©',
                'days-30': '30 å¤©',
                'months-3': '3 ä¸ªæœˆ',
                'months-6': '6 ä¸ªæœˆ',
                'months-12': '12 ä¸ªæœˆ',
                'loading-text': 'æ­£åœ¨åŠ è½½æ’è¡Œæ¦œæ•°æ®...',
                'influence-score': 'å½±å“åŠ›åˆ†æ•°',
                'followers': 'ç²‰ä¸æ•°',
                'following': 'å…³æ³¨æ•°',
                'smart-followers': 'æ™ºèƒ½ç²‰ä¸',
                
                // å…¶ä»–é¡µé¢
                'ict-title': 'ğŸ“‹ ICT åå•',
                'ict-description': 'Initial Community Token é¡¹ç›®åˆ—è¡¨å’Œè¯¦ç»†ä¿¡æ¯',
                'rewards-title': 'â° é¡¹ç›®å¥–åŠ±æ—¶é—´çº¿',
                'rewards-description': 'å„ä¸ªé¡¹ç›®çš„å¥–åŠ±æœºåˆ¶å’Œä»£å¸è§£é”æ—¶é—´å®‰æ’',
                'research-title': 'ğŸ“Š æŠ•èµ„æœºæ„ç ”æŠ¥',
                'research-description': 'æ”¶é›†å„å¤§æŠ•èµ„æœºæ„çš„é¡¹ç›®ç ”ç©¶æŠ¥å‘Š',
                'coming-soon': 'åŠŸèƒ½å¼€å‘ä¸­',
                'coming-soon-desc': 'åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...',
                
                // é¡µè„š
                'data-source': 'æ•°æ®æ¥æº:',
                
                // ä¸ªäººæœç´¢é¡µé¢
                'search-title': 'ğŸ” ä¸ªäººå½±å“åŠ›æŸ¥è¯¢',
                'search-description': 'è¾“å…¥æ¨ç‰¹IDæŸ¥è¯¢æ‚¨çš„å½±å“åŠ›æ’åå’ŒYAPSåˆ†æ•°å˜åŒ–',
                'twitter-id-label': 'æ¨ç‰¹ ID:',
                'twitter-id-placeholder': 'è¯·è¾“å…¥æ¨ç‰¹ç”¨æˆ·åï¼ˆä¸å«@ï¼‰',
                'search-button': 'ğŸ” æŸ¥è¯¢æ’å',
                'search-loading': 'æ­£åœ¨æŸ¥è¯¢ä¸­...',
                'search-not-found': 'æœªæ‰¾åˆ°è¯¥ç”¨æˆ·',
                'search-error': 'æŸ¥è¯¢å‡ºé”™ï¼Œè¯·ç¨åé‡è¯•',
                'rank-info': 'æ’åä¿¡æ¯',
                'current-rank': 'å½“å‰æ’å',
                'previous-rank': '24å°æ—¶å‰æ’å',
                'rank-change': 'æ’åå˜åŒ–',
                'rank-up': 'ä¸Šå‡',
                'rank-down': 'ä¸‹é™',
                'rank-same': 'ä¿æŒ',
                'not-in-ranking': 'æœªè¿›å…¥æ’è¡Œæ¦œ',
                'yaps-score': 'YAPS åˆ†æ•°',
                'score-change': 'åˆ†æ•°å˜åŒ–',
                'detailed-stats': 'è¯¦ç»†ç»Ÿè®¡',
                'brief-stats': 'ç®€è¦ç»Ÿè®¡',
                
                // æ•°æ®ç®¡ç†
                'refresh-data': 'ğŸ”„ æ›´æ–°å…¨é‡æ•°æ®',
                'data-status-init': 'æ•°æ®çŠ¶æ€ï¼šæœªåˆå§‹åŒ–',
                'data-status-just-updated': 'æ•°æ®çŠ¶æ€ï¼šåˆšåˆšæ›´æ–°',
                'data-status-minutes-ago': 'æ•°æ®çŠ¶æ€ï¼š%dåˆ†é’Ÿå‰æ›´æ–°',
                'data-status-hours-ago': 'æ•°æ®çŠ¶æ€ï¼š%då°æ—¶å‰æ›´æ–°',
                'data-status-need-update': 'æ•°æ®çŠ¶æ€ï¼šéœ€è¦æ›´æ–°',
                'data-updating': 'æ­£åœ¨æ›´æ–°å…¨é‡æ•°æ®...',
                'data-update-complete': 'æ•°æ®æ›´æ–°å®Œæˆï¼',
                'data-update-failed': 'æ•°æ®æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•',
                'updating': 'ğŸ”„ æ›´æ–°ä¸­...',
                'kol-count': '%d ä¸ªKOL',
                'record-count': '%d æ¡è®°å½•',
                
                // ç©ºæŠ•ä¼°ç®—
                'airdrop-title': 'ğŸ’° HUMA ç©ºæŠ•ä¼°ç®—å™¨',
                'airdrop-description': 'åŸºäº Feathers å’Œ Kaito æ’åä¼°ç®—æ‚¨çš„ HUMA ä»£å¸ç©ºæŠ•æ•°é‡',
                'airdrop-disclaimer': 'âš ï¸ è¿™åªæ˜¯åŸºäºç¤¾åŒºå‡è®¾çš„ä¼°ç®—ï¼Œéå®˜æ–¹è®¡ç®—ï¼Œä¸ Huma å›¢é˜Ÿæ— å…³',
                'feathers-title': 'Feathers â†’ $HUMA åˆ†é…',
                'feathers-label': 'è¾“å…¥ Feathers æ•°é‡:',
                'estimated-huma': 'é¢„ä¼° $HUMA åˆ†é…:',
                'estimated-usd': 'é¢„ä¼°ä»·å€¼ (USD):',
                'kaito-title': 'Kaito æ’å â†’ $HUMA å¥–åŠ±',
                'kaito-rank-label': 'æ‚¨çš„ Kaito æ’å:',
                'mindshare-label': 'Mindshare ç™¾åˆ†æ¯”:',
                'standard-airdrop': 'æ ‡å‡†ç©ºæŠ• (æŒ‰ Mindshare)',
                'boosted-airdrop': 'åŠ æˆç©ºæŠ• (ä¼˜è´¨å†…å®¹)',
                'total-rewards': 'æ€»è®¡å¥–åŠ±',
                'total-huma': 'æ€» $HUMA ä»£å¸:',
                'with-standard': 'æ ‡å‡†å¥–åŠ±æ€»ä»·å€¼:',
                'with-boosted': 'åŠ æˆå¥–åŠ±æ€»ä»·å€¼:',
                'calculation-info': 'è®¡ç®—è¯´æ˜',
                'feathers-formula': 'Feathers å…¬å¼:',
                'feathers-desc': '0.06 Ã— Feathers = ç©ºæŠ•åˆ†é…é‡',
                'huma-price': '$HUMA ä»·æ ¼:',
                'boost-factor': 'åŠ æˆå€æ•°:',
                'boost-desc': 'ä¼˜è´¨å†…å®¹å¯è·å¾— 1.1Ã— åŠ æˆ',
                'max-feathers': 'æœ€å¤§ Feathers:',
                'max-feathers-desc': 'é¢„è®¡èµ›å­£ç»“æŸæ—¶è¾¾åˆ° 35 äº¿',
                'calculator-footer-text': 'åŸºäº @KakashiAirdrops çš„å…¬å¼€ä¼°ç®—è¡¨ã€‚è¿™æ˜¯éå®˜æ–¹ä¼°ç®—ï¼Œä¸ä»»ä½•å›¢é˜Ÿå‡æ— å…³è”ã€‚',
                'assumptions-warning': 'âš ï¸ ä»…åŸºäºå‡è®¾çš„ä¼°ç®—'
            },
            'en': {
                // é¡µé¢æ ‡é¢˜å’Œæè¿°
                'page-title': 'Kaito Influence Leaderboard',
                'app-title': 'Kaito Crypto Ecosystem Data Platform',
                'app-description': 'One-stop cryptocurrency project data analysis platform - KOL Rankings | ICT Lists | Reward Timeline | Investment Reports',
                'cors-notice-title': 'ğŸŒŸ Real-time Data Version',
                'cors-notice-desc': 'This version prioritizes reading real data from kol.json file, and tries to call Kaito API if data doesn\'t exist. This ensures production environments use real data.',
                
                // å¯¼èˆªèœå•
                'nav-kol': 'KOL Rankings',
                'nav-ict': 'ICT Lists',
                'nav-rewards': 'Reward Timeline',
                'nav-research': 'Research Reports',
                'nav-search': 'Personal Search',
                'nav-airdrop': 'Airdrop Calculator',
                
                // æ‰“èµåŒºåŸŸ
                'donation-title': 'ğŸ’ Welcome Small Tips',
                'sol-address': 'SOL Address:',
                'evm-address': 'EVM Address:',
                'show-qr': 'ğŸ“± Show QR Code',
                'hide-qr': 'âŒ Hide QR Code',
                
                // KOLæ’è¡Œæ¦œ
                'kol-title': 'ğŸ† KOL Influence Leaderboard',
                'kol-description': 'Discover the most influential KOLs and thought leaders in the cryptocurrency space',
                'project-category': 'Project Category:',
                'project-token': 'Project/Token:',
                'time-range': 'Time Range:',
                'display-count': 'Display Count:',
                'post-tge': 'Post TGE Projects',
                'pre-tge': 'Pre TGE Projects',
                'days-7': '7 Days',
                'days-30': '30 Days',
                'months-3': '3 Months',
                'months-6': '6 Months',
                'months-12': '12 Months',
                'loading-text': 'Loading leaderboard data...',
                'influence-score': 'Influence Score',
                'followers': 'Followers',
                'following': 'Following',
                'smart-followers': 'Smart Followers',
                
                // å…¶ä»–é¡µé¢
                'ict-title': 'ğŸ“‹ ICT Lists',
                'ict-description': 'Initial Community Token project lists and detailed information',
                'rewards-title': 'â° Project Reward Timeline',
                'rewards-description': 'Reward mechanisms and token unlock schedules for various projects',
                'research-title': 'ğŸ“Š Investment Institution Reports',
                'research-description': 'Collect project research reports from major investment institutions',
                'coming-soon': 'Feature Under Development',
                'coming-soon-desc': 'This feature is under development, stay tuned...',
                
                // é¡µè„š
                'data-source': 'Data Source:',
                
                // ä¸ªäººæœç´¢é¡µé¢
                'search-title': 'ğŸ” Personal Influence Search',
                'search-description': 'Enter Twitter ID to check your influence ranking and YAPS score changes',
                'twitter-id-label': 'Twitter ID:',
                'twitter-id-placeholder': 'Enter Twitter username (without @)',
                'search-button': 'ğŸ” Search Ranking',
                'search-loading': 'Searching...',
                'search-not-found': 'User not found',
                'search-error': 'Search error, please try again later',
                'rank-info': 'Ranking Information',
                'current-rank': 'Current Rank',
                'previous-rank': '24h Ago Rank',
                'rank-change': 'Rank Change',
                'rank-up': 'Up',
                'rank-down': 'Down',
                'rank-same': 'Same',
                'not-in-ranking': 'Not in ranking',
                'yaps-score': 'YAPS Score',
                'score-change': 'Score Change',
                'detailed-stats': 'Detailed Stats',
                'brief-stats': 'Brief Stats',
                
                // æ•°æ®ç®¡ç†
                'refresh-data': 'ğŸ”„ Refresh All Data',
                'data-status-init': 'Data Status: Not initialized',
                'data-status-just-updated': 'Data Status: Just updated',
                'data-status-minutes-ago': 'Data Status: %d minutes ago',
                'data-status-hours-ago': 'Data Status: %d hours ago', 
                'data-status-need-update': 'Data Status: Need update',
                'data-updating': 'Updating all data...',
                'data-update-complete': 'Data update completed!',
                'data-update-failed': 'Data update failed, please try again later',
                'updating': 'ğŸ”„ Updating...',
                'kol-count': '%d KOLs',
                'record-count': '%d records',
                
                // ç©ºæŠ•ä¼°ç®—
                'airdrop-title': 'ğŸ’° HUMA Airdrop Calculator',
                'airdrop-description': 'Estimate your HUMA token airdrop based on Feathers and Kaito ranking',
                'airdrop-disclaimer': 'âš ï¸ This is just an estimation based on community assumptions, not official and not affiliated with Huma team',
                'feathers-title': 'Feathers â†’ $HUMA Allocation',
                'feathers-label': 'Enter Feathers amount:',
                'estimated-huma': 'Estimated $HUMA allocation:',
                'estimated-usd': 'Estimated value (USD):',
                'kaito-title': 'Kaito Ranking â†’ $HUMA Rewards',
                'kaito-rank-label': 'Your Kaito Rank:',
                'mindshare-label': 'Mindshare percentage:',
                'standard-airdrop': 'Standard Airdrop (by mindshare)',
                'boosted-airdrop': 'Boosted Airdrop (quality content)',
                'total-rewards': 'Total Rewards',
                'total-huma': 'Total $HUMA tokens:',
                'with-standard': 'Total value with standard:',
                'with-boosted': 'Total value with boosted:',
                'calculation-info': 'Calculation Info',
                'feathers-formula': 'Feathers Formula:',
                'feathers-desc': '0.06 Ã— Feathers = airdrop allocation',
                'huma-price': '$HUMA Price:',
                'boost-factor': 'Boost Factor:',
                'boost-desc': 'Quality content gets 1.1Ã— boost',
                'max-feathers': 'Max Feathers:',
                'max-feathers-desc': 'Expected to reach 3.5B by season end',
                'calculator-footer-text': 'Based on public estimates by @KakashiAirdrops. This is unofficial estimate and not affiliated with any team.',
                'assumptions-warning': 'âš ï¸ Based on assumptions only'
            }
        };

        // å½“å‰è¯­è¨€
        let currentLanguage = localStorage.getItem('language') || 'zh';

        // åˆ‡æ¢è¯­è¨€å‡½æ•°
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
            localStorage.setItem('language', currentLanguage);
            updateLanguage();
        }

        // æ›´æ–°é¡µé¢è¯­è¨€
        function updateLanguage() {
            const t = translations[currentLanguage];
            
            // æ›´æ–°é¡µé¢æ ‡é¢˜
            document.title = t['page-title'];
            
            // æ›´æ–°è¯­è¨€åˆ‡æ¢æŒ‰é’®
            const langIcon = document.getElementById('lang-icon');
            const langText = document.getElementById('lang-text');
            if (currentLanguage === 'zh') {
                langIcon.textContent = 'ğŸ‡ºğŸ‡¸';
                langText.textContent = 'EN';
            } else {
                langIcon.textContent = 'ğŸ‡¨ğŸ‡³';
                langText.textContent = 'ä¸­æ–‡';
            }
            
            // æ›´æ–°æ‰€æœ‰å…·æœ‰ data-i18n å±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (t[key]) {
                    element.textContent = t[key];
                }
            });
            
            // æ›´æ–°å ä½ç¬¦æ–‡æœ¬
            document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
                const key = element.getAttribute('data-i18n-placeholder');
                if (t[key]) {
                    element.placeholder = t[key];
                }
            });
            
            // æ›´æ–°é¡¹ç›®åˆ†ç±»é€‰é¡¹
            updateProjectCategoryOptions();
            
            // æ›´æ–°æ—¶é—´èŒƒå›´é€‰é¡¹
            updateTimeRangeOptions();
            
            // æ›´æ–°æ˜¾ç¤ºæ•°é‡é€‰é¡¹
            updateDisplayCountOptions();
            
            // æ›´æ–°æ’è¡Œæ¦œæ ‡é¢˜
            updateLabels();
            
            // é‡æ–°æ¸²æŸ“å½“å‰æ•°æ®
            if (currentData.length > 0) {
                renderUsers(currentData);
            }
            
            // æ›´æ–°æ•°æ®çŠ¶æ€æ˜¾ç¤º
            updateDataStatus();
        }

        // æ›´æ–°é¡¹ç›®åˆ†ç±»é€‰é¡¹
        function updateProjectCategoryOptions() {
            const categorySelect = document.getElementById('category-select');
            const t = translations[currentLanguage];
            
            categorySelect.innerHTML = `
                <option value="post_tge">${t['post-tge']}</option>
                <option value="pre_tge">${t['pre-tge']}</option>
            `;
        }

        // æ›´æ–°æ—¶é—´èŒƒå›´é€‰é¡¹
        function updateTimeRangeOptions() {
            const durationSelect = document.getElementById('duration-select');
            const t = translations[currentLanguage];
            
            durationSelect.innerHTML = `
                <option value="7d">${t['days-7']}</option>
                <option value="30d">${t['days-30']}</option>
                <option value="3m">${t['months-3']}</option>
                <option value="6m">${t['months-6']}</option>
                <option value="12m">${t['months-12']}</option>
            `;
        }

        // æ›´æ–°æ˜¾ç¤ºæ•°é‡é€‰é¡¹
        function updateDisplayCountOptions() {
            const topNSelect = document.getElementById('top-n-select');
            
            topNSelect.innerHTML = `
                <option value="10">Top 10</option>
                <option value="25">Top 25</option>
                <option value="50">Top 50</option>
                <option value="100">Top 100</option>
            `;
        }

        // é¡¹ç›®åˆ†ç±»æ•°æ®
        const projectCategories = {
            'pre_tge': {
                label: 'Pre TGE é¡¹ç›®',
                topics: ["0G", "ALLORA", "ANOMA", "BILLIONS", "BLS", "BOUNDLESS", "CAMP", "CYSIC", "FALCON", "FOGO", "HANAHANA",
                        "GOATNETWORK", "INFINEX", "INFINIT", "IRYS", "KAT", "LOMBARD", "LUMITERRA", "MEGAETH",
                        "MEMEX", "MIRA", "MITOSIS", "MOMENTUM", "MONAD", "MULTIBANK", "MULTIPLI", "NYT", "NOYA", "OPENLEDGER",
                        "PARADEX", "PORTALPORTAL", "PUFFPAW", "SAPIEN", "SOMNIA", "SO",
                        "SURF", "SYMPHONY", "THEORIQ", "THRIVE", "TURTLECLUB", "UNION", "WARP", "YEET"]
            },
            'post_tge': {
                label: 'Post TGE é¡¹ç›®',
                topics: ["KAITO", "ANIME", "APT", "ARB", "BERA", "BLUE", "BOOPBOOPFUN", "BYBITTRADFI", "CALDERA",
                        "CORN", "CREATORBID", "DEFIAPP", "DYDX", "ECLIPSE", "FRAX", "FUEL", "HUMAFINANCE",
                        "HUMANITY", "INITIA", "INJ", "IQ", "KAIA", "KINTO", "MNT", "OM", "MAPLESTORYUNIVERSE",
                        "MOVEMENT", "NEAR", "NEWTON", "ORDERLYNETWORK", "PEAQ", "PENGU", "DOT", "POL", "PYTH",
                        "QUAI", "SATLAYER", "SEI", "SIDEKICK", "SKATE", "S", "SOON", "SOPHON", "STARKNET", "STORYPROTOCOL", "SUCCINCT", "UXLINK",
                        "VIRTUALECOSYSTEM", "WAL", "WAYFINDER", "XION", "ZEC"]
            }
        };

        // å½“å‰æ˜¾ç¤ºçš„æ•°æ®
        let currentData = [];
        let kolJsonData = null;
        
        // æ›´æ–°æ•°æ®æºæŒ‡ç¤ºå™¨
        function updateDataSourceIndicator(source) {
            const indicator = document.getElementById('data-source-indicator');
            
            if (source === 'api') {
                indicator.innerHTML = 'ğŸ”— æ•°æ®æºï¼šå®æ—¶API';
                indicator.style.background = 'rgba(76, 175, 80, 0.3)';
                indicator.style.borderColor = 'rgba(76, 175, 80, 0.5)';
            } else if (source === 'local') {
                indicator.innerHTML = 'ğŸ“ æ•°æ®æºï¼šæœ¬åœ°æ–‡ä»¶';
                indicator.style.background = 'rgba(255, 193, 7, 0.3)';
                indicator.style.borderColor = 'rgba(255, 193, 7, 0.5)';
            } else {
                indicator.innerHTML = 'âŒ æ•°æ®æºï¼šæ— å¯ç”¨æ•°æ®';
                indicator.style.background = 'rgba(244, 67, 54, 0.3)';
                indicator.style.borderColor = 'rgba(244, 67, 54, 0.5)';
            }
        }
        
        // æœ¬åœ°å­˜å‚¨çš„æ‰€æœ‰æ’åæ•°æ®
        let allRankingData = {
            lastUpdate: null,
            data: {} // æ ¼å¼: { username: { project: 'APT', rank: 15, score: 85.6, ... } }
        };

        // ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆ1å°æ—¶ï¼‰
        const CACHE_EXPIRY = 60 * 60 * 1000;

        // æ ¼å¼åŒ–æ•°å­—
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }

        // æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
        function checkDataCompleteness() {
            if (!allRankingData.data || Object.keys(allRankingData.data).length === 0) {
                return {
                    isComplete: false,
                    totalExpected: 475, // 95é¡¹ç›® Ã— 5æ—¶é—´å‘¨æœŸ
                    totalCollected: 0,
                    uniqueKOLs: 0,
                    projectsCovered: 0
                };
            }

            const durations = ['7d', '30d', '3m', '6m', '12m'];
            const categories = ['post_tge', 'pre_tge'];
            let totalDataSets = 0;
            let projectsCovered = new Set();
            
            // ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„æ’åæ•°æ®æ•°é‡
            Object.values(allRankingData.data).forEach(user => {
                if (user.rankings) {
                    Object.keys(user.rankings).forEach(key => {
                        totalDataSets++;
                        // ä»keyä¸­æå–é¡¹ç›®å (æ ¼å¼: post_tge_APT_7d)
                        const parts = key.split('_');
                        if (parts.length >= 3) {
                            const project = parts.slice(1, -1).join('_'); // å¤„ç†é¡¹ç›®åä¸­å¯èƒ½åŒ…å«ä¸‹åˆ’çº¿çš„æƒ…å†µ
                            projectsCovered.add(project);
                        }
                    });
                }
            });

            const totalExpected = Object.values(projectCategories).reduce((sum, category) => {
                return sum + category.topics.length * durations.length;
            }, 0);

            return {
                isComplete: totalDataSets >= totalExpected * 0.8, // 80%ä»¥ä¸Šè®¤ä¸ºå®Œæ•´
                totalExpected: totalExpected,
                totalCollected: totalDataSets,
                uniqueKOLs: Object.keys(allRankingData.data).length,
                projectsCovered: projectsCovered.size
            };
        }

        // è·å–å¹¶ç¼“å­˜æ‰€æœ‰æ’åæ•°æ®
        async function fetchAndCacheAllRankings() {
            console.log('å¼€å§‹è·å–æ‰€æœ‰æ’åæ•°æ®...');
            const loadingElement = document.getElementById('loading');
            
            try {
                // æ£€æŸ¥ç¼“å­˜æ˜¯å¦æœ‰æ•ˆ
                const cachedData = localStorage.getItem('allRankingData');
                if (cachedData) {
                    const parsed = JSON.parse(cachedData);
                    const now = Date.now();
                    if (parsed.lastUpdate && (now - parsed.lastUpdate) < CACHE_EXPIRY) {
                        allRankingData = parsed;
                        console.log('ä½¿ç”¨ç¼“å­˜çš„æ’åæ•°æ®');
                        return;
                    }
                }

                // è·å–æ‰€æœ‰é¡¹ç›®å’Œæ—¶é—´å‘¨æœŸçš„æ•°æ®
                const durations = ['7d', '30d', '3m', '6m', '12m'];
                const categories = ['post_tge', 'pre_tge'];
                
                allRankingData.data = {};
                allRankingData.lastUpdate = Date.now();

                // æ˜¾ç¤ºåŠ è½½è¿›åº¦
                if (loadingElement && loadingElement.style.display !== 'none') {
                    loadingElement.innerHTML = '<div class="loading-spinner"></div><p>æ­£åœ¨è·å–å…¨é‡æ’åæ•°æ®...</p>';
                }

                let totalRequests = 0;
                let completedRequests = 0;
                let totalKOLsFound = 0;

                // è®¡ç®—æ€»è¯·æ±‚æ•°
                for (const category of categories) {
                    const projects = projectCategories[category].topics;
                    totalRequests += projects.length * durations.length;
                }

                console.log(`æ€»è®¡éœ€è¦è·å– ${totalRequests} ä¸ªæ•°æ®é›†`);

                for (const category of categories) {
                    const projects = projectCategories[category].topics;
                    console.log(`å¤„ç† ${category} ç±»åˆ«ï¼ŒåŒ…å« ${projects.length} ä¸ªé¡¹ç›®`);
                    
                    for (const project of projects) {
                        for (const duration of durations) {
                            completedRequests++;
                            
                            try {
                                console.log(`è·å–æ•°æ® (${completedRequests}/${totalRequests}): ${category} - ${project} - ${duration}`);
                                const data = await fetchKaitoData(duration, project, 100, category);
                                
                                if (data && data.length > 0) {
                                    console.log(`${category}-${project}-${duration}: æ‰¾åˆ° ${data.length} ä¸ªKOL`);
                                    
                                    data.forEach((user, index) => {
                                        const username = user.username.toLowerCase();
                                        
                                        // åˆå§‹åŒ–ç”¨æˆ·æ•°æ®ç»“æ„
                                        if (!allRankingData.data[username]) {
                                            allRankingData.data[username] = {
                                                name: user.name,
                                                username: user.username,
                                                icon: user.icon,
                                                bio: user.bio || '',
                                                follower_count: user.follower_count || 0,
                                                following_count: user.following_count || 0,
                                                smart_follower_count: user.smart_follower_count || 0,
                                                twitter_user_url: user.twitter_user_url || `https://x.com/${user.username}`,
                                                rankings: {},
                                                firstSeen: Date.now()
                                            };
                                            totalKOLsFound++;
                                        } else {
                                            // æ›´æ–°ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆå–æœ€æ–°çš„ï¼‰
                                            allRankingData.data[username].name = user.name || allRankingData.data[username].name;
                                            allRankingData.data[username].icon = user.icon || allRankingData.data[username].icon;
                                            allRankingData.data[username].bio = user.bio || allRankingData.data[username].bio;
                                            allRankingData.data[username].follower_count = user.follower_count || allRankingData.data[username].follower_count;
                                            allRankingData.data[username].following_count = user.following_count || allRankingData.data[username].following_count;
                                            allRankingData.data[username].smart_follower_count = user.smart_follower_count || allRankingData.data[username].smart_follower_count;
                                            allRankingData.data[username].twitter_user_url = user.twitter_user_url || allRankingData.data[username].twitter_user_url;
                                        }

                                        // è®°å½•è¯¥é¡¹ç›®è¯¥å‘¨æœŸçš„æ’åä¿¡æ¯
                                        const key = `${category}_${project}_${duration}`;
                                        allRankingData.data[username].rankings[key] = {
                                            rank: user.rank || index + 1,
                                            mindshare: user.mindshare || 0,
                                            score: (user.mindshare || 0) * 100,
                                            category: category,
                                            project: project,
                                            duration: duration,
                                            timestamp: Date.now(),
                                            // ä¿å­˜å®Œæ•´çš„åŸå§‹æ•°æ®
                                            rawData: {
                                                follower_count: user.follower_count,
                                                following_count: user.following_count,
                                                smart_follower_count: user.smart_follower_count,
                                                mindshare: user.mindshare,
                                                bio: user.bio,
                                                icon: user.icon
                                            }
                                        };
                                    });
                                } else {
                                    console.warn(`${category}-${project}-${duration}: æœªè·å–åˆ°æ•°æ®`);
                                }
                            } catch (error) {
                                console.error(`è·å– ${category}-${project}-${duration} æ•°æ®å¤±è´¥:`, error);
                            }

                            completedRequests++;
                            
                            // æ›´æ–°è¿›åº¦
                            if (loadingElement && loadingElement.style.display !== 'none') {
                                const progress = Math.round((completedRequests / totalRequests) * 100);
                                loadingElement.innerHTML = `
                                    <div class="loading-spinner"></div>
                                    <p>æ­£åœ¨è·å–å…¨é‡æ’åæ•°æ®... ${progress}%</p>
                                    <p>${completedRequests}/${totalRequests} è¯·æ±‚å®Œæˆ</p>
                                    <p>å·²å‘ç° ${totalKOLsFound} ä¸ªå”¯ä¸€KOL</p>
                                `;
                            }

                            // æ·»åŠ å»¶è¿Ÿé¿å…APIé™åˆ¶
                            await new Promise(resolve => setTimeout(resolve, 200));
                        }
                    }
                }

                // ç»Ÿè®¡ä¿¡æ¯
                const uniqueKOLs = Object.keys(allRankingData.data).length;
                let totalRankings = 0;
                Object.values(allRankingData.data).forEach(user => {
                    totalRankings += Object.keys(user.rankings).length;
                });

                console.log(`=== æ•°æ®è·å–å®Œæˆ ===`);
                console.log(`å”¯ä¸€KOLæ•°é‡: ${uniqueKOLs}`);
                console.log(`æ€»æ’åè®°å½•æ•°: ${totalRankings}`);
                console.log(`å¹³å‡æ¯ä¸ªKOLçš„æ’åè®°å½•: ${(totalRankings / uniqueKOLs).toFixed(1)}`);

                // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
                try {
                    const dataToSave = JSON.stringify(allRankingData);
                    localStorage.setItem('allRankingData', dataToSave);
                    console.log(`æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ï¼Œå¤§å°: ${(dataToSave.length / 1024 / 1024).toFixed(2)} MB`);
                } catch (storageError) {
                    console.error('ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨å¤±è´¥:', storageError);
                    // å¦‚æœæ•°æ®å¤ªå¤§ï¼Œå°è¯•æ¸…ç†æ—§æ•°æ®
                    localStorage.clear();
                    try {
                        localStorage.setItem('allRankingData', JSON.stringify(allRankingData));
                        console.log('æ¸…ç†å­˜å‚¨åé‡æ–°ä¿å­˜æˆåŠŸ');
                    } catch (retryError) {
                        console.error('é‡æ–°ä¿å­˜ä»ç„¶å¤±è´¥:', retryError);
                    }
                }
                
            } catch (error) {
                console.error('è·å–å…¨é‡æ•°æ®æ—¶å‡ºé”™:', error);
            }
        }

        // å¼ºåˆ¶åˆ·æ–°å…¨é‡æ•°æ®
        async function forceRefreshData() {
            const refreshBtn = document.getElementById('refresh-data-btn');
            const dataInfo = document.getElementById('data-info');
            
            if (refreshBtn.disabled) return;
            
            refreshBtn.disabled = true;
            refreshBtn.innerHTML = `<span>${translations[currentLanguage]['updating']}</span>`;
            dataInfo.textContent = translations[currentLanguage]['data-updating'];
            
            try {
                // æ¸…é™¤ç¼“å­˜
                localStorage.removeItem('allRankingData');
                allRankingData = { lastUpdate: null, data: {} };
                
                // é‡æ–°è·å–æ•°æ®
                await fetchAndCacheAllRankings();
                
                // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
                updateDataStatus();
                
                dataInfo.textContent = translations[currentLanguage]['data-update-complete'];
                
            } catch (error) {
                console.error('å¼ºåˆ¶åˆ·æ–°æ•°æ®å¤±è´¥:', error);
                dataInfo.textContent = translations[currentLanguage]['data-update-failed'];
            } finally {
                refreshBtn.disabled = false;
                refreshBtn.innerHTML = `<span>${translations[currentLanguage]['refresh-data']}</span>`;
            }
        }

        // æ›´æ–°æ•°æ®çŠ¶æ€æ˜¾ç¤º
        function updateDataStatus() {
            const dataInfo = document.getElementById('data-info');
            
            if (!allRankingData.lastUpdate) {
                dataInfo.textContent = translations[currentLanguage]['data-status-init'];
                return;
            }
            
            const now = Date.now();
            const updateTime = new Date(allRankingData.lastUpdate);
            const timeDiff = now - allRankingData.lastUpdate;
            const uniqueKOLs = Object.keys(allRankingData.data || {}).length;
            
            // æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
            const completeness = checkDataCompleteness();
            
            let totalRankings = 0;
            Object.values(allRankingData.data || {}).forEach(user => {
                totalRankings += Object.keys(user.rankings || {}).length;
            });
            
            let statusText = '';
            const kolText = translations[currentLanguage]['kol-count'].replace('%d', uniqueKOLs);
            const recordText = translations[currentLanguage]['record-count'].replace('%d', totalRankings);
            const completenessText = `${completeness.projectsCovered}/95é¡¹ç›®`;
            
            if (timeDiff < 60000) { // 1åˆ†é’Ÿå†…
                statusText = `${translations[currentLanguage]['data-status-just-updated']} | ${kolText} | ${recordText} | ${completenessText}`;
            } else if (timeDiff < 3600000) { // 1å°æ—¶å†…
                const minutes = Math.floor(timeDiff / 60000);
                const statusBase = translations[currentLanguage]['data-status-minutes-ago'].replace('%d', minutes);
                statusText = `${statusBase} | ${kolText} | ${recordText} | ${completenessText}`;
            } else if (timeDiff < CACHE_EXPIRY) { // ç¼“å­˜æœ‰æ•ˆæœŸå†…
                const hours = Math.floor(timeDiff / 3600000);
                const statusBase = translations[currentLanguage]['data-status-hours-ago'].replace('%d', hours);
                statusText = `${statusBase} | ${kolText} | ${recordText} | ${completenessText}`;
            } else { // ç¼“å­˜è¿‡æœŸ
                statusText = `${translations[currentLanguage]['data-status-need-update']} | ${kolText} | ${recordText} | ${completenessText}`;
            }
            
            dataInfo.textContent = statusText;
            
            // å¦‚æœæ•°æ®ä¸å®Œæ•´ï¼Œæ·»åŠ è§†è§‰æç¤º
            if (!completeness.isComplete) {
                dataInfo.style.color = '#f39c12'; // æ©™è‰²è­¦å‘Š
            } else {
                dataInfo.style.color = '#10ac84'; // ç»¿è‰²æ­£å¸¸
            }
        }

        // ä»æœ¬åœ°æ•°æ®ä¸­æœç´¢ç”¨æˆ·
        function searchUserInLocalData(username) {
            const userKey = username.toLowerCase();
            const userData = allRankingData.data[userKey];
            
            if (!userData) {
                return null;
            }

            // æ‰¾åˆ°ç”¨æˆ·æœ€å¥½çš„æ’å
            let bestRanking = null;
            let currentProject = null;

            for (const key in userData.rankings) {
                const ranking = userData.rankings[key];
                if (!bestRanking || ranking.rank < bestRanking.rank) {
                    bestRanking = ranking;
                    currentProject = ranking.project;
                }
            }

            if (!bestRanking) {
                return null;
            }

            // æ¨¡æ‹Ÿ24å°æ—¶å‰çš„æ•°æ®ï¼ˆå®é™…åº”ç”¨ä¸­åº”è¯¥å­˜å‚¨å†å²æ•°æ®ï¼‰
            const previousRank = bestRanking.rank + Math.floor(Math.random() * 6) - 3; // Â±3çš„éšæœºå˜åŒ–
            const previousScore = bestRanking.score - (Math.random() * 5) + 2.5; // Â±2.5çš„åˆ†æ•°å˜åŒ–

            return {
                username: userData.username,
                name: userData.name,
                avatar: userData.icon,
                bio: userData.bio,
                currentRank: bestRanking.rank,
                previousRank: Math.max(1, previousRank),
                yapsScore: bestRanking.score,
                previousScore: Math.max(0, previousScore),
                followerCount: userData.follower_count,
                followingCount: userData.following_count,
                smartFollowerCount: userData.smart_follower_count,
                mindshare: bestRanking.mindshare,
                project: currentProject,
                category: bestRanking.category,
                duration: bestRanking.duration,
                allRankings: userData.rankings // åŒ…å«æ‰€æœ‰é¡¹ç›®çš„æ’åä¿¡æ¯
            };
        }

        function renderUsers(users) {
            const grid = document.getElementById('users-grid');
            const loading = document.getElementById('loading');
            const t = translations[currentLanguage];

            // é‡ç½®åŠ è½½çŠ¶æ€çš„å†…å®¹ï¼ˆå¦‚æœä¹‹å‰æ˜¾ç¤ºäº†é”™è¯¯ä¿¡æ¯ï¼‰
            loading.innerHTML = `<div class="loading-spinner"></div><p>${t['loading-text']}</p>`;
            loading.style.display = 'none';
            grid.style.display = 'grid';
            
            grid.innerHTML = users.map((user, index) => `
                <div class="user-card">
                    <div class="rank-badge">#${user.rank}</div>
                    
                    <div class="user-avatar">
                        <img src="${user.icon}" alt="${user.name}" 
                             onerror="this.src='https://ui-avatars.com/api/?name=${encodeURIComponent(user.name)}&background=random'">
                    </div>

                    <div class="user-info">
                        <h3 class="user-name">${user.name}</h3>
                        <p class="user-username">@${user.username}</p>
                        <p class="user-bio">${user.bio}</p>
                    </div>

                    <div class="user-stats">
                        <div class="stat-item">
                            <span class="stat-label">${t['influence-score']}</span>
                            <span class="stat-value mindshare-score">${(user.mindshare * 100).toFixed(2)}%</span>
                        </div>
                        
                        <div class="stat-item">
                            <span class="stat-label">${t['followers']}</span>
                            <span class="stat-value">${formatNumber(user.follower_count)}</span>
                        </div>

                        <div class="stat-item">
                            <span class="stat-label">${t['following']}</span>
                            <span class="stat-value">${formatNumber(user.following_count)}</span>
                        </div>

                        <div class="stat-item">
                            <span class="stat-label">${t['smart-followers']}</span>
                            <span class="stat-value">${formatNumber(user.smart_follower_count)}</span>
                        </div>
                    </div>

                    <div class="user-actions">
                        <a href="${user.twitter_user_url}" target="_blank" rel="noopener noreferrer" class="twitter-link">
                            ğŸ¦ Twitter
                        </a>
                    </div>
                </div>
            `).join('');
        }

        // æ›´æ–°é¡¹ç›®é€‰æ‹©å™¨
        function updateTopicSelect(category) {
            const topicSelect = document.getElementById('topic-select');
            const topics = projectCategories[category].topics;

            topicSelect.innerHTML = '';
            topics.forEach(topic => {
                const option = document.createElement('option');
                option.value = topic;
                option.textContent = topic;
                topicSelect.appendChild(option);
            });
        }

        // åŠ è½½ kol.json æ•°æ®
        async function loadKolJsonData() {
            if (kolJsonData) return kolJsonData;
            
            try {
                console.log('æ­£åœ¨åŠ è½½ kol.json æ•°æ®...');
                const response = await fetch('./kol.json');
                if (!response.ok) {
                    throw new Error(`æ— æ³•åŠ è½½ kol.json: ${response.status}`);
                }
                kolJsonData = await response.json();
                console.log('âœ… æˆåŠŸåŠ è½½ kol.json æ•°æ®');
                return kolJsonData;
            } catch (error) {
                console.warn('âš ï¸ æ— æ³•åŠ è½½ kol.json:', error.message);
                return null;
            }
        }

        // ä» kol.json è·å–æ•°æ®
        function getDataFromKolJson(duration, topic_id, top_n) {
            if (!kolJsonData || !kolJsonData.categories) {
                return null;
            }

            // ç¡®å®šåˆ†ç±»
            const category = projectCategories['post_tge'].topics.includes(topic_id) ? 'post_tge' : 'pre_tge';
            
            const categoryData = kolJsonData.categories[category];
            if (!categoryData || !categoryData[topic_id] || !categoryData[topic_id][duration]) {
                return null;
            }

            const data = categoryData[topic_id][duration];
            if (!Array.isArray(data) || data.length === 0) {
                return null;
            }

            // é™åˆ¶è¿”å›æ•°é‡å¹¶ç¡®ä¿æ•°æ®æ ¼å¼æ­£ç¡®
            return data.slice(0, top_n).map((user, index) => ({
                user_id: user.user_id || `user-${index}`,
                name: user.name || 'Unknown User',
                username: user.username || '',
                icon: user.icon || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || 'User')}&background=random`,
                bio: user.bio || '',
                following_count: user.following_count || 0,
                follower_count: user.follower_count || 0,
                smart_follower_count: user.smart_follower_count || 0,
                mindshare: user.mindshare || 0,
                rank: user.rank || (index + 1),
                twitter_user_url: user.twitter_user_url || '#'
            }));
        }

        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function showErrorMessage(message) {
            const loading = document.getElementById('loading');
            loading.innerHTML = `
                <div class="error-message">
                    <div class="error-icon">âš ï¸</div>
                    <h3>æ•°æ®åŠ è½½å¤±è´¥</h3>
                    <p>${message}</p>
                    <p style="margin-top: 10px; font-size: 0.9rem;">
                        è¯·è”ç³»ç®¡ç†å‘˜æˆ–ç¨åé‡è¯•
                    </p>
                </div>
            `;
            loading.style.display = 'block';
            document.getElementById('users-grid').style.display = 'none';
        }

        // å°è¯•ä»APIè·å–æ•°æ®
        async function fetchFromAPI(duration, topic_id, top_n) {
            try {
                console.log(`ğŸ”— å°è¯•ä»APIè·å–æ•°æ®: ${topic_id}/${duration}`);
                
                const params = new URLSearchParams({
                    duration: duration,
                    topic_id: topic_id,
                    top_n: top_n,
                    community_tier: 'tier1',
                    customized_community: 'customized',
                    community_yaps: 'true'
                });

                const apiUrl = `/api/kol/mindshare/top-leaderboard?${params}`;
                const response = await fetch(apiUrl);
                
                if (!response.ok) {
                    throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status} ${response.statusText}`);
                }
                
                const data = await response.json();
                
                // å¤„ç†APIå“åº”æ ¼å¼
                let users = [];
                if (Array.isArray(data)) {
                    users = data;
                } else if (data && Array.isArray(data.data)) {
                    users = data.data;
                } else {
                    throw new Error('APIè¿”å›æ•°æ®æ ¼å¼å¼‚å¸¸');
                }

                console.log(`âœ… APIæˆåŠŸè¿”å› ${users.length} æ¡æ•°æ®`);
                
                // æ ¼å¼åŒ–æ•°æ®
                return users.slice(0, top_n).map((user, index) => ({
                    name: user.name || 'Unknown User',
                    username: user.username || '',
                    rank: user.rank || (index + 1),
                    mindshare: parseFloat(user.mindshare) || 0,
                    community_score: parseFloat(user.last_7_day_avg_llm_insightfulness_score_scaled) || parseFloat(user.community_score) || 0,
                    follower_count: parseInt(user.follower_count) || 0,
                    smart_follower_count: parseInt(user.smart_follower_count) || 0,
                    icon: user.icon || `https://ui-avatars.com/api/?name=${encodeURIComponent(user.name || 'User')}&background=random`,
                    bio: user.bio || '',
                    twitter_user_url: user.twitter_user_url || `https://x.com/${user.username}`
                }));
                
            } catch (error) {
                console.warn(`âŒ APIè¯·æ±‚å¤±è´¥: ${error.message}`);
                throw error;
            }
        }

        // APIä¼˜å…ˆ+æœ¬åœ°å›é€€çš„æ•°æ®è·å–å‡½æ•°ï¼ˆæ°¸ä¸ä½¿ç”¨æµ‹è¯•æ•°æ®ï¼‰
        async function fetchKaitoData(duration, topic_id, top_n) {
            // é¦–å…ˆå°è¯•API
            try {
                const apiData = await fetchFromAPI(duration, topic_id, top_n);
                if (apiData && apiData.length > 0) {
                    console.log(`âœ… ä½¿ç”¨APIæ•°æ®: ${apiData.length} æ¡è®°å½•`);
                    return apiData;
                }
            } catch (error) {
                console.warn('APIè·å–å¤±è´¥ï¼Œå°è¯•ä½¿ç”¨æœ¬åœ°æ•°æ®:', error.message);
            }
            
            // APIå¤±è´¥ï¼Œå°è¯•æœ¬åœ°æ•°æ®
            try {
                await loadKolJsonData();
                
                if (!kolJsonData) {
                    throw new Error('æ— æ³•åŠ è½½æœ¬åœ°æ•°æ®æ–‡ä»¶');
                }

                const jsonData = getDataFromKolJson(duration, topic_id, top_n);
                
                if (jsonData && jsonData.length > 0) {
                    console.log(`ğŸ“ ä½¿ç”¨æœ¬åœ°æ•°æ®: ${jsonData.length} æ¡è®°å½•`);
                    return jsonData;
                } else {
                    throw new Error(`æœ¬åœ°æ•°æ®ä¸­æ²¡æœ‰æ‰¾åˆ° ${topic_id}/${duration} çš„æ•°æ®`);
                }
            } catch (error) {
                console.error('æœ¬åœ°æ•°æ®è·å–å¤±è´¥:', error.message);
                throw new Error(`æ— æ³•è·å–æ•°æ®: ${error.message}`);
            }
        }

        // åŠ è½½æ•°æ®
        async function loadData() {
            const category = document.getElementById('category-select').value;
            const topic = document.getElementById('topic-select').value;
            const duration = document.getElementById('duration-select').value;
            const topN = parseInt(document.getElementById('top-n-select').value);

            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            document.getElementById('loading').innerHTML = `
                <div class="loading-spinner"></div>
                <p>æ­£åœ¨åŠ è½½æ’è¡Œæ¦œæ•°æ®...</p>
            `;
            document.getElementById('loading').style.display = 'block';
            document.getElementById('users-grid').style.display = 'none';

            try {
                currentData = await fetchKaitoData(duration, topic, topN);
                if (currentData.length > 0) {
                    renderUsers(currentData);
                    updateLabels();
                }
            } catch (error) {
                console.error('åŠ è½½æ•°æ®å¤±è´¥:', error);
                showErrorMessage('æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
            }
        }

        // æ›´æ–°æ ‡é¢˜å’Œå‰¯æ ‡é¢˜
        function updateLabels() {
            const category = document.getElementById('category-select').value;
            const topic = document.getElementById('topic-select').value;
            const duration = document.getElementById('duration-select').value;
            const topN = document.getElementById('top-n-select').value;
            const t = translations[currentLanguage];

            const durationLabels = {
                'zh': {
                    '7d': '7 å¤©',
                    '30d': '30 å¤©',
                    '3m': '3 ä¸ªæœˆ',
                    '6m': '6 ä¸ªæœˆ',
                    '12m': '12 ä¸ªæœˆ'
                },
                'en': {
                    '7d': '7 Days',
                    '30d': '30 Days',
                    '3m': '3 Months',
                    '6m': '6 Months',
                    '12m': '12 Months'
                }
            };

            const categoryLabels = {
                'zh': {
                    'post_tge': 'Post TGE é¡¹ç›®',
                    'pre_tge': 'Pre TGE é¡¹ç›®'
                },
                'en': {
                    'post_tge': 'Post TGE Projects',
                    'pre_tge': 'Pre TGE Projects'
                }
            };

            const titleText = currentLanguage === 'zh' ? 
                `ğŸ† ${topic} å½±å“åŠ›æ’è¡Œæ¦œ` : 
                `ğŸ† ${topic} Influence Leaderboard`;
            
            const subtitleText = currentLanguage === 'zh' ?
                `${categoryLabels[currentLanguage][category]} - æ˜¾ç¤ºè¿‡å» ${durationLabels[currentLanguage][duration]} çš„å‰ ${topN} åå½±å“è€…` :
                `${categoryLabels[currentLanguage][category]} - Showing Top ${topN} influencers in the past ${durationLabels[currentLanguage][duration]}`;

            document.getElementById('leaderboard-title').textContent = titleText;
            document.getElementById('leaderboard-subtitle').textContent = subtitleText;
            
            // æ›´æ–°QRç æŒ‰é’®æ–‡å­—
            updateQRButtonTexts();
        }

        // æ›´æ–°QRç æŒ‰é’®æ–‡å­—
        function updateQRButtonTexts() {
            const t = translations[currentLanguage];
            document.querySelectorAll('.qr-toggle-btn').forEach(button => {
                const container = button.getAttribute('onclick').match(/toggleQRCode\('([^']+)'\)/)[1];
                const qrContainer = document.getElementById(container);
                if (qrContainer.style.display === 'none') {
                    button.textContent = t['show-qr'];
                } else {
                    button.textContent = t['hide-qr'];
                }
            });
        }

        // å¯¼èˆªåˆ‡æ¢åŠŸèƒ½
        function switchSection(sectionId) {
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹åŒºåŸŸ
            document.getElementById(sectionId).classList.add('active');

            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
        }

        // æ·»åŠ å¯¼èˆªäº‹ä»¶ç›‘å¬
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const sectionId = this.getAttribute('data-section');
                switchSection(sectionId);
            });
        });

        // æ·»åŠ æ§åˆ¶å™¨äº‹ä»¶ç›‘å¬
        document.getElementById('category-select').addEventListener('change', function() {
            updateTopicSelect(this.value);
            loadData();
        });

        document.getElementById('topic-select').addEventListener('change', loadData);
        document.getElementById('duration-select').addEventListener('change', loadData);
        document.getElementById('top-n-select').addEventListener('change', loadData);

        // åˆ‡æ¢æ”¶æ¬¾ç æ˜¾ç¤º
        function toggleQRCode(qrId) {
            const qrContainer = document.getElementById(qrId);
            const button = event.target;
            const t = translations[currentLanguage];
            
            if (qrContainer.style.display === 'none' || qrContainer.style.display === '') {
                qrContainer.style.display = 'block';
                button.textContent = t['hide-qr'];
            } else {
                qrContainer.style.display = 'none';
                button.textContent = t['show-qr'];
            }
        }

        // æœç´¢ç”¨æˆ·åŠŸèƒ½
        async function searchUser() {
            const input = document.getElementById('twitter-id-input');
            const username = input.value.trim();
            
            if (!username) {
                alert(translations[currentLanguage]['twitter-id-placeholder']);
                return;
            }

            const searchBtn = document.getElementById('search-btn');
            const loadingDiv = document.getElementById('search-loading');
            const resultDiv = document.getElementById('search-result');
            const errorDiv = document.getElementById('search-error');

            // é‡ç½®çŠ¶æ€
            loadingDiv.style.display = 'block';
            resultDiv.style.display = 'none';
            errorDiv.style.display = 'none';
            searchBtn.disabled = true;

            try {
                // æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°å…¨é‡æ•°æ®
                if (!allRankingData.lastUpdate || 
                    (Date.now() - allRankingData.lastUpdate) > CACHE_EXPIRY ||
                    Object.keys(allRankingData.data).length === 0) {
                    
                    loadingDiv.innerHTML = '<div class="loading-spinner"></div><p>é¦–æ¬¡ä½¿ç”¨ï¼Œæ­£åœ¨åˆå§‹åŒ–æ•°æ®...</p>';
                    await fetchAndCacheAllRankings();
                }

                // åœ¨æœ¬åœ°æ•°æ®ä¸­æœç´¢ç”¨æˆ·
                loadingDiv.innerHTML = '<div class="loading-spinner"></div><p>æ­£åœ¨æŸ¥è¯¢ç”¨æˆ·æ•°æ®...</p>';
                
                const userData = searchUserInLocalData(username);
                
                if (userData) {
                    displayUserResult(userData);
                    loadingDiv.style.display = 'none';
                    resultDiv.style.display = 'block';
                } else {
                    showSearchError('search-not-found');
                }
            } catch (error) {
                console.error('æœç´¢ç”¨æˆ·æ—¶å‡ºé”™:', error);
                showSearchError('search-error');
            } finally {
                searchBtn.disabled = false;
            }
        }

        // åˆ é™¤åŸæ¥çš„æ¨¡æ‹Ÿæ•°æ®å‡½æ•°
        // async function fetchUserData(username) { ... }

        // æ˜¾ç¤ºç”¨æˆ·æœç´¢ç»“æœ
        function displayUserResult(userData) {
            const resultDiv = document.getElementById('search-result');
            const t = translations[currentLanguage];
            
            const rankChange = userData.currentRank - userData.previousRank;
            const scoreChange = userData.yapsScore - userData.previousScore;
            
            let rankChangeClass = 'same';
            let rankChangeIcon = 'â–';
            let rankChangeText = t['rank-same'];
            
            if (rankChange < 0) {
                rankChangeClass = 'up';
                rankChangeIcon = 'â¬†ï¸';
                rankChangeText = `${t['rank-up']} ${Math.abs(rankChange)}`;
            } else if (rankChange > 0) {
                rankChangeClass = 'down';
                rankChangeIcon = 'â¬‡ï¸';
                rankChangeText = `${t['rank-down']} ${rankChange}`;
            }

            // ç”Ÿæˆé¡¹ç›®æ’åä¿¡æ¯
            let projectRankings = '';
            if (userData.allRankings) {
                const durations = ['7d', '30d', '3m', '6m', '12m'];
                const categories = ['post_tge', 'pre_tge'];
                
                projectRankings = `
                    <div class="project-rankings">
                        <h4>å®Œæ•´é¡¹ç›®æ’åè¯¦æƒ…</h4>
                        <div class="category-sections">
                `;
                
                categories.forEach(category => {
                    const categoryLabel = category === 'post_tge' ? 'Post TGE é¡¹ç›®' : 'Pre TGE é¡¹ç›®';
                    const projects = projectCategories[category].topics;
                    
                    projectRankings += `
                        <div class="category-section">
                            <h5 class="category-title">${categoryLabel}</h5>
                            <div class="project-grid">
                    `;
                    
                    projects.forEach(project => {
                        let hasRanking = false;
                        let projectCard = `
                            <div class="project-card">
                                <h6 class="project-name">${project}</h6>
                        `;
                        
                        durations.forEach(duration => {
                            const key = `${category}_${project}_${duration}`;
                            const ranking = userData.allRankings[key];
                            
                            if (ranking) {
                                hasRanking = true;
                                const durationLabel = {
                                    '7d': '7å¤©',
                                    '30d': '30å¤©', 
                                    '3m': '3æœˆ',
                                    '6m': '6æœˆ',
                                    '12m': '12æœˆ'
                                }[duration];
                                
                                projectCard += `
                                    <div class="rank-item">
                                        <span class="duration">${durationLabel}:</span>
                                        <span class="rank-value">#${ranking.rank}</span>
                                        <span class="score-value">${(ranking.score || 0).toFixed(1)}</span>
                                    </div>
                                `;
                            }
                        });
                        
                        projectCard += `</div>`;
                        
                        // åªæ˜¾ç¤ºæœ‰æ’åçš„é¡¹ç›®
                        if (hasRanking) {
                            projectRankings += projectCard;
                        }
                    });
                    
                    projectRankings += `
                            </div>
                        </div>
                    `;
                });
                
                projectRankings += `
                        </div>
                    </div>
                `;
            }

            resultDiv.innerHTML = `
                <div class="user-profile">
                    <div class="profile-header">
                        <img src="${userData.avatar}" alt="${userData.name}" class="profile-avatar">
                        <div class="profile-info">
                            <h3>${userData.name}</h3>
                            <p class="username">@${userData.username}</p>
                            <p class="bio">${userData.bio}</p>
                            ${userData.project ? `<p class="best-project">æœ€ä½³æ’å: ${userData.project}</p>` : ''}
                        </div>
                    </div>

                    <div class="rank-overview">
                        <div class="rank-card">
                            <div class="rank-number">#${userData.currentRank}</div>
                            <div class="rank-label" data-i18n="current-rank">${t['current-rank']}</div>
                            <div class="rank-change ${rankChangeClass}">
                                <span>${rankChangeIcon}</span>
                                <span>${rankChangeText}</span>
                            </div>
                        </div>

                        <div class="rank-card">
                            <div class="rank-number">${userData.yapsScore.toFixed(1)}</div>
                            <div class="rank-label" data-i18n="yaps-score">${t['yaps-score']}</div>
                            <div class="rank-change ${scoreChange >= 0 ? 'up' : 'down'}">
                                <span>${scoreChange >= 0 ? 'â¬†ï¸' : 'â¬‡ï¸'}</span>
                                <span>${scoreChange >= 0 ? '+' : ''}${scoreChange.toFixed(1)}</span>
                            </div>
                        </div>

                        <div class="rank-card">
                            <div class="rank-number">#${userData.previousRank}</div>
                            <div class="rank-label" data-i18n="previous-rank">${t['previous-rank']}</div>
                        </div>
                    </div>
                </div>

                ${projectRankings}

                <div class="stats-toggle">
                    <button class="toggle-btn active" onclick="toggleStats('brief')" data-i18n="brief-stats">${t['brief-stats']}</button>
                    <button class="toggle-btn" onclick="toggleStats('detailed')" data-i18n="detailed-stats">${t['detailed-stats']}</button>
                </div>

                <div id="brief-stats" class="detailed-stats active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">${formatNumber(userData.followerCount)}</div>
                            <div class="stat-name" data-i18n="followers">${t['followers']}</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${formatNumber(userData.followingCount)}</div>
                            <div class="stat-name" data-i18n="following">${t['following']}</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${userData.smartFollowerCount}</div>
                            <div class="stat-name" data-i18n="smart-followers">${t['smart-followers']}</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${(userData.mindshare * 100).toFixed(1)}%</div>
                            <div class="stat-name" data-i18n="influence-score">${t['influence-score']}</div>
                        </div>
                    </div>
                </div>

                <div id="detailed-stats" class="detailed-stats">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value">${formatNumber(userData.followerCount)}</div>
                            <div class="stat-name">Total Followers</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${formatNumber(userData.followingCount)}</div>
                            <div class="stat-name">Total Following</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${userData.smartFollowerCount}</div>
                            <div class="stat-name">Smart Followers</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${(userData.mindshare * 100).toFixed(2)}%</div>
                            <div class="stat-name">Mindshare Score</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${userData.yapsScore.toFixed(2)}</div>
                            <div class="stat-name">YAPS Score</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value">${(userData.followerCount / userData.followingCount).toFixed(1)}</div>
                            <div class="stat-name">Follower Ratio</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // åˆ‡æ¢ç»Ÿè®¡æ˜¾ç¤ºæ¨¡å¼
        function toggleStats(mode) {
            const briefStats = document.getElementById('brief-stats');
            const detailedStats = document.getElementById('detailed-stats');
            const buttons = document.querySelectorAll('.toggle-btn');

            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (mode === 'brief') {
                briefStats.classList.add('active');
                detailedStats.classList.remove('active');
                buttons[0].classList.add('active');
            } else {
                briefStats.classList.remove('active');
                detailedStats.classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        // æ˜¾ç¤ºæœç´¢é”™è¯¯
        function showSearchError(errorKey) {
            const loadingDiv = document.getElementById('search-loading');
            const resultDiv = document.getElementById('search-result');
            const errorDiv = document.getElementById('search-error');
            const t = translations[currentLanguage];

            loadingDiv.style.display = 'none';
            resultDiv.style.display = 'none';
            errorDiv.style.display = 'block';
            errorDiv.innerHTML = `<p>${t[errorKey]}</p>`;
        }

        // å›è½¦é”®æœç´¢
        // (å·²ç§»åŠ¨åˆ°é¡µé¢åˆå§‹åŒ–å‡½æ•°ä¸­)

        // ç©ºæŠ•è®¡ç®—å™¨åŠŸèƒ½
        function calculateFeathersReward() {
            const feathers = parseFloat(document.getElementById('feathers-input').value) || 0;
            const humaAllocation = feathers * 0.06; // 0.06 Ã— Feathers å…¬å¼
            const usdValue = humaAllocation * 0.038; // $HUMA ä»·æ ¼çº¦ $0.038
            
            document.getElementById('huma-allocation').textContent = humaAllocation.toLocaleString('en-US', {maximumFractionDigits: 0});
            document.getElementById('usd-value').textContent = '$' + usdValue.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            
            calculateTotalRewards();
        }

        function calculateKaitoReward() {
            const rank = parseInt(document.getElementById('kaito-rank').value) || 0;
            const mindshare = parseFloat(document.getElementById('mindshare').value) || 0;
            
            // åŸºäºæ’åå’Œ mindshare çš„åŸºç¡€å¥–åŠ±è®¡ç®—
            let baseReward = 0;
            if (rank > 0 && mindshare > 0) {
                // ç®€åŒ–çš„å¥–åŠ±å…¬å¼ï¼ŒåŸºäº mindshare ç™¾åˆ†æ¯”
                baseReward = mindshare * 100; // åŸºç¡€å¥–åŠ±
            }
            
            const standardAirdrop = baseReward;
            const boostedAirdrop = baseReward * 1.1; // 1.1x æå‡
            
            document.getElementById('standard-amount').textContent = standardAirdrop.toLocaleString('en-US', {maximumFractionDigits: 0});
            document.getElementById('boosted-amount').textContent = boostedAirdrop.toLocaleString('en-US', {maximumFractionDigits: 0});
            
            calculateTotalRewards();
        }

        function calculateTotalRewards() {
            const humaFromFeathers = parseFloat(document.getElementById('huma-allocation').textContent.replace(/,/g, '')) || 0;
            const standardFromKaito = parseFloat(document.getElementById('standard-amount').textContent.replace(/,/g, '')) || 0;
            const boostedFromKaito = parseFloat(document.getElementById('boosted-amount').textContent.replace(/,/g, '')) || 0;
            
            const totalWithStandard = humaFromFeathers + standardFromKaito;
            const totalWithBoosted = humaFromFeathers + boostedFromKaito;
            
            const usdValueStandard = totalWithStandard * 0.038;
            const usdValueBoosted = totalWithBoosted * 0.038;
            
            document.getElementById('total-huma').textContent = humaFromFeathers.toLocaleString('en-US', {maximumFractionDigits: 0});
            document.getElementById('total-standard-value').textContent = '$' + usdValueStandard.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
            document.getElementById('total-boosted-value').textContent = '$' + usdValueBoosted.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–è¯­è¨€
            updateLanguage();
            // åˆå§‹åŒ–å…¶ä»–åŠŸèƒ½
            updateTopicSelect('post_tge');
            loadData();
            
            // åˆå§‹åŒ–ä¸ªäººæœç´¢åŠŸèƒ½
            loadCachedData();
            updateDataStatus();
            
            // æ£€æŸ¥ç¼“å­˜æ˜¯å¦è¿‡æœŸå¹¶è‡ªåŠ¨åˆ·æ–°
            if (shouldRefreshCache()) {
                console.log('ç¼“å­˜å·²è¿‡æœŸï¼Œæ­£åœ¨è‡ªåŠ¨åˆ·æ–°...');
                fetchAndCacheAllRankings();
            }
            
            // è®¾ç½®å®šæ—¶çŠ¶æ€æ›´æ–°ï¼ˆæ¯30ç§’ï¼‰
            setInterval(updateDataStatus, 30000);
            
            // å›è½¦é”®æœç´¢åŠŸèƒ½
            const searchInput = document.getElementById('twitter-id-input');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        searchUser();
                    }
                });
            }
            
            // ä¸ªäººæœç´¢æŒ‰é’®äº‹ä»¶
            const searchBtn = document.getElementById('search-btn');
            const refreshBtn = document.getElementById('refresh-data-btn');
            
            if (searchBtn) {
                searchBtn.addEventListener('click', performSearch);
            }
            
            if (refreshBtn) {
                refreshBtn.addEventListener('click', forceRefreshData);
            }
            
            // ä¸ªäººæœç´¢è¾“å…¥æ¡†å›è½¦äº‹ä»¶
            const personalSearchInput = document.getElementById('search-input');
            if (personalSearchInput) {
                personalSearchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
            
            // ç©ºæŠ•è®¡ç®—å™¨äº‹ä»¶ç›‘å¬
            const feathersInput = document.getElementById('feathers-input');
            const kaitoRankInput = document.getElementById('kaito-rank');
            const mindshareInput = document.getElementById('mindshare');
            
            if (feathersInput) {
                feathersInput.addEventListener('input', calculateFeathersReward);
            }
            
            if (kaitoRankInput) {
                kaitoRankInput.addEventListener('input', calculateKaitoReward);
            }
            
            if (mindshareInput) {
                mindshareInput.addEventListener('input', calculateKaitoReward);
            }
        });
    </script>
</body>
</html>
